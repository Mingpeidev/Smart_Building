<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link rel="stylesheet" href="../assets/css/layui.css">
<link rel="stylesheet" href="../assets/css/view.css" />
<title></title>
</head>
<body class="layui-view-body">
	<div class="layui-content">
		<div class="layui-row">
			<div class="layui-card">
				<div class="layui-card-header">表单</div>
				<form class="layui-form layui-card-body" action="javascript:;"
					method="post" lay-filter="first">
					<div class="layui-form-item">
						<label class="layui-form-label">室温设置</label>
						<div class="layui-input-inline"
							style="width:100px;text-align: center;">
							<select name="temp" lay-verify="required" id="temp">
								<option value=""></option>
								<option value="0">20</option>
								<option value="1">21</option>
								<option value="2">22</option>
								<option value="3">23</option>
								<option value="4">24</option>
								<option value="5">25</option>
								<option value="6">26</option>
								<option value="7">27</option>
								<option value="8">28</option>
								<option value="9">29</option>
								<option value="10">30</option>
								<option value="11">31</option>
								<option value="12">32</option>
								<option value="13">33</option>
								<option value="14">34</option>
								<option value="15">35</option>
								<option value="16">36</option>
								<option value="17">37</option>
								<option value="18">38</option>
								<option value="19">39</option>
								<option value="20">40</option>
							</select>
						</div>
					</div>

					<div class="layui-form-item">
						<label class="layui-form-label">自动开灯时间</label>
						<div class="layui-input-inline"
							style="width:100px;text-align: center;">
							<input type="text" autocomplete="off" class="layui-input"
								id="timepick" name="timepick">
						</div>
					</div>

					<div class="layui-form-item">
						<label class="layui-form-label">智能设置开关</label>
						<div class="layui-input-inline"
							style="width:100px;text-align: center;">
							<input type="checkbox" name="on_off" lay-skin="switch"
								lay-text="ON|OFF" id="on_off">
						</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-input-block">
							<button class="layui-btn layui-btn-blue" lay-submit
								lay-filter="sureBtn">确定</button>
							<button type="reset" class="layui-btn layui-btn-primary">重置</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
	<script src="../assets/layui.js"></script>
	<script>
	
		var time,
			hour,
			minute;
		var timelist = [];
		layui.use([ 'layer', 'form', 'laydate' ], function() {
			var form = layui.form,
				layer = layui.layer,
				laydate = layui.laydate;
	
			//按钮Btn1提交监听，添加住户信息
			form.on('submit(sureBtn)', function(data) {
				console.log(data)
				
				return false;
			});
			
			//初始赋值
					form.val('first', {
						'temp' : "2",
						'timepick' :"12:00" ,
						'on_off' : true,
					});
	
			laydate.render({
				elem : '#timepick',
				type : 'time',
				format : 'HH:mm',
				btns : [ 'clear', 'confirm' ],
				done : function(value, date, endDate) {
					time = value;
					timelist = value.split(":"); //分割小时和分钟
	
					hour = timelist[0];
					minute = timelist[1];
				}
			});
	
	
		})
	</script>
	<script type="text/javascript">
		function sureBtn_click() {
			var myselect = document.getElementById("temp"); //拿到select对象
			var index = myselect.selectedIndex; //拿到选中项的索引
			var temp = myselect.options[index].text; //拿到选中项options的text;text用value替代可以拿到value
	
			var on_off = document.getElementById("on_off").checked;
	
			layer.msg("温度：" + temp + "  时间：" + hour + ":" + minute + "  开关：" + on_off)
		}
	</script>
</body>
</html>